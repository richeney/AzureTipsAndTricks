<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Tip 196 - Testing Azure Functions | Azure Tips and Tricks</title>
    <meta name="description" content="">
    <link rel="apple-touch-icon" sizes="57x57" href="/AzureTipsAndTricks/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/AzureTipsAndTricks/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/AzureTipsAndTricks/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/AzureTipsAndTricks/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/AzureTipsAndTricks/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/AzureTipsAndTricks/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/AzureTipsAndTricks/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/AzureTipsAndTricks/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/AzureTipsAndTricks/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/AzureTipsAndTricks/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/AzureTipsAndTricks/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/AzureTipsAndTricks/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/AzureTipsAndTricks/favicon-16x16.png">
  <link rel="manifest" href="/AzureTipsAndTricks/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <script async="true" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    
    <link rel="preload" href="/AzureTipsAndTricks/assets/css/0.styles.9e4235cc.css" as="style"><link rel="preload" href="/AzureTipsAndTricks/assets/js/app.4d0fdadb.js" as="script"><link rel="preload" href="/AzureTipsAndTricks/assets/js/4.1e17da4f.js" as="script"><link rel="preload" href="/AzureTipsAndTricks/assets/js/110.59603119.js" as="script"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/10.f8c5d362.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/100.1b0205f0.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/101.e7443626.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/102.9170fb24.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/103.c22d2263.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/104.6c7af3f8.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/105.6af5ba74.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/106.c23be596.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/107.f98e1f40.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/108.2005ac19.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/109.4889f0ab.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/11.77ad0453.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/111.de09dbac.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/112.26097d0f.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/113.ae6f847b.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/114.755cbd26.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/115.4f60b440.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/116.36345303.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/117.f18b6142.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/118.cdfef2ea.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/119.6e17bef8.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/12.63d10d15.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/120.c21d9e25.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/121.dff05149.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/122.cec9837f.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/123.912a6651.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/124.164e41ac.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/125.e094d6c5.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/126.c034d6a3.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/127.5e68b598.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/128.1d2ec0e5.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/129.44d4cb6a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/13.b4f711a2.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/130.a5258a5e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/131.f8b923d1.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/132.22ed1476.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/133.477d7d79.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/134.f71eb472.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/135.fd3f2a49.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/136.ae675c87.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/137.7ee12ee7.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/138.36f2020c.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/139.be389e11.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/14.dcc1dd67.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/140.67d1a2af.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/141.5f20004a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/142.b19529ff.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/143.8feffdff.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/144.b62fa893.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/145.142328be.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/146.d95afd45.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/147.bb070edb.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/148.3f1a613f.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/149.9641a009.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/15.3f12a8f6.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/150.48946476.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/151.4f9df419.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/152.a7d88792.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/153.357868aa.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/154.7dd7ba54.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/155.01b2c167.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/156.90b18ce8.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/157.820da2d8.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/158.5127ca94.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/159.70debb8a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/16.bb7da047.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/160.d3095a51.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/161.edb99bd3.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/162.313f79e3.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/163.09475185.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/164.8b25715c.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/165.e99be6d3.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/166.1fda5aa6.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/167.85a58d16.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/168.b15a43ef.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/169.cb477406.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/17.2960389b.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/170.b92e4d33.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/171.5b6c145f.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/172.eee03cdb.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/173.da5517c1.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/174.89c42680.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/175.15aacde3.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/176.41efbda5.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/177.edb35782.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/178.055b26b7.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/179.e198c7f4.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/18.03a0d8e0.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/180.c6e2ed9a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/181.a1650973.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/182.f4941f0e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/183.f484c9ba.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/184.6109247d.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/185.a50d0cb9.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/186.0a7c1c93.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/187.80e5b4c2.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/188.4b291e01.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/189.305aa108.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/19.df9aadf3.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/190.cdd79018.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/191.866a1116.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/192.20d057bf.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/193.417ddd89.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/194.07e93e9e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/195.ec2fe645.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/196.eab6435f.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/197.88266abf.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/198.c44d793e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/199.7bdc5e28.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/20.83de661e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/200.4346e403.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/201.1796d381.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/202.3bf45801.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/203.3e89a20f.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/204.47a7a15c.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/205.eb702efd.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/206.8c608781.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/207.21ffccc3.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/208.c094813e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/209.81ccd20e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/21.8cada36b.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/210.82581c01.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/211.5e8ecf91.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/212.ba1d3f64.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/213.26adef4a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/214.b5201463.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/215.3ab4ac25.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/216.26dfc7ee.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/217.eefe95e2.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/218.c1375759.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/219.cc653347.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/22.4385aab9.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/220.6a58aae1.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/221.7191b145.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/222.08ee1e04.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/223.e5c54ad1.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/224.ca48d550.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/225.bc5811bd.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/226.7eedeb99.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/227.bdd7a2fb.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/228.09a32533.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/229.b84c4da5.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/23.5f17453e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/230.05ca3608.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/231.8aba9bba.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/232.ad6c7e99.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/233.7eb67f13.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/234.47ca3c10.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/235.8828b125.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/236.bbc7d695.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/237.c1cc4e4a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/238.6654924c.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/239.a89d1b53.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/24.2c0f5d2d.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/240.a52fb992.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/241.13a0187e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/242.27a46040.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/243.36ffe10b.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/244.1fe0eead.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/245.77cb2c8a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/246.afc183e7.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/247.c1b5a880.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/248.5744a176.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/249.5eda390f.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/25.2c31a2d8.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/250.b519dbf2.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/26.b7f19910.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/27.9612062a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/28.de5bd9e6.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/29.c344fb4e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/3.5ca0f648.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/30.75b34f3f.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/31.7b6c9335.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/32.6ae74d49.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/33.8af8d0ac.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/34.ff1840f9.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/35.1047c63a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/36.94fbb618.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/37.8655a56e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/38.1a0d999a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/39.76e84805.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/40.339b6c29.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/41.6651d05e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/42.fab992ad.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/43.bc1f40dd.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/44.8e49d23f.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/45.a2724923.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/46.9e74c9a7.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/47.22ef629b.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/48.fcd2c348.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/49.ecacdc72.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/5.b32c499c.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/50.8e5a9430.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/51.90642f20.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/52.067f2f45.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/53.281b61e8.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/54.59a761d8.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/55.11ab7c2b.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/56.5655e63f.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/57.28fb4a21.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/58.7ffaafff.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/59.f9286d1b.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/6.c702ed47.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/60.a2e91e3e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/61.5e49115d.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/62.7857ff9c.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/63.d66c1a90.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/64.d0b3454c.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/65.56342b8a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/66.a6aad276.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/67.ca602c54.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/68.c4d0ef31.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/69.3ce58fc0.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/7.ee00b141.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/70.78e551bd.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/71.56d128df.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/72.459c4697.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/73.e75df573.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/74.18f4e89d.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/75.e6f565c7.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/76.19d61892.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/77.3f9a794e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/78.1e303343.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/79.78e8a120.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/8.613ebfcf.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/80.dbb33cde.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/81.3f3c749d.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/82.559b4305.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/83.8850cefd.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/84.1826268c.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/85.dab2fe9d.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/86.af674b1a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/87.f7fc2ce4.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/88.b8de140b.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/89.29433969.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/9.cdb24abf.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/90.8e2e19bc.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/91.215d5b5e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/92.8561dca8.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/93.14b9f18c.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/94.dfc168dc.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/95.764c21fb.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/96.c759cd4e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/97.0731280f.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/98.5cc8ea6d.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/99.43221c94.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/vendors~docsearch.9a8918f9.js">
    <link rel="stylesheet" href="/AzureTipsAndTricks/assets/css/0.styles.9e4235cc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/AzureTipsAndTricks/" class="home-link router-link-active"><img src="/AzureTipsAndTricks/files/vintage.png" alt="Azure Tips and Tricks" class="logo"> <span class="site-name can-hide">Azure Tips and Tricks</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/AzureTipsAndTricks/" class="nav-link">Home</a></div><div class="nav-item"><a href="http://videos.azuredev.tips" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Videos
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://twitch.tv/mbcrump" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Developer Live Streaming
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/Microsoft/AzureTipsAndTricks/issues/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Questions?
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://microsoft.github.io/AzureTipsAndTricks/rss.xml" class="nav-link">
  RSS Feed
</a></div> <a href="https://github.com/microsoft/azuretipsandtricks" target="_blank" rel="noopener noreferrer" class="repo-link">
    Star this Repo
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/AzureTipsAndTricks/" class="nav-link">Home</a></div><div class="nav-item"><a href="http://videos.azuredev.tips" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Videos
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://twitch.tv/mbcrump" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Developer Live Streaming
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/Microsoft/AzureTipsAndTricks/issues/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Questions?
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://microsoft.github.io/AzureTipsAndTricks/rss.xml" class="nav-link">
  RSS Feed
</a></div> <a href="https://github.com/microsoft/azuretipsandtricks" target="_blank" rel="noopener noreferrer" class="repo-link">
    Star this Repo
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span>Home</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/AzureTipsAndTricks/" class="sidebar-link">Welcome</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/AzureTipsAndTricks/#site-map" class="sidebar-link">Site Map</a></li><li class="sidebar-sub-header"><a href="/AzureTipsAndTricks/#git-workflow" class="sidebar-link">Git Workflow</a></li><li class="sidebar-sub-header"><a href="/AzureTipsAndTricks/#contributing" class="sidebar-link">Contributing</a></li><li class="sidebar-sub-header"><a href="/AzureTipsAndTricks/#legal-notices" class="sidebar-link">Legal Notices</a></li></ul></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Tips</span> <!----></p> <ul class="sidebar-group-items"></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Recently Added</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/AzureTipsAndTricks/blog/tip248.html" class="sidebar-link">Tip 248 - Top 5 VS Code extensions for Azure Developers</a></li><li><a href="/AzureTipsAndTricks/blog/tip247.html" class="sidebar-link">Tip 247 - Creating custom bindings for Azure Functions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/AzureTipsAndTricks/blog/tip247.html#azure-functions-bindings" class="sidebar-link">Azure Functions Bindings</a></li><li class="sidebar-sub-header"><a href="/AzureTipsAndTricks/blog/tip247.html#prerequisites" class="sidebar-link">Prerequisites</a></li><li class="sidebar-sub-header"><a href="/AzureTipsAndTricks/blog/tip247.html#creating-a-custom-binding-for-azure-functions" class="sidebar-link">Creating a custom binding for Azure Functions</a></li><li class="sidebar-sub-header"><a href="/AzureTipsAndTricks/blog/tip247.html#conclusion" class="sidebar-link">Conclusion</a></li></ul></li><li><a href="/AzureTipsAndTricks/blog/tip246.html" class="sidebar-link">Tip 246 - Azure Free Account? Is it really free?</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/AzureTipsAndTricks/blog/tip246.html#try-azure-for-free-for-12-months" class="sidebar-link">Try Azure for free, for 12 months</a></li><li class="sidebar-sub-header"><a href="/AzureTipsAndTricks/blog/tip246.html#creating-a-free-azure-account" class="sidebar-link">Creating a free Azure account</a></li><li class="sidebar-sub-header"><a href="/AzureTipsAndTricks/blog/tip246.html#start-using-azure" class="sidebar-link">Start using Azure</a></li><li class="sidebar-sub-header"><a href="/AzureTipsAndTricks/blog/tip246.html#monitor-your-free-usage" class="sidebar-link">Monitor your free usage</a></li><li class="sidebar-sub-header"><a href="/AzureTipsAndTricks/blog/tip246.html#conclusion" class="sidebar-link">Conclusion</a></li></ul></li><li><a href="/AzureTipsAndTricks/blog/tip245.html" class="sidebar-link">Tip 245 - Use Azure Key Vault to store sensitive data and access from Kubernetes Pods</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/AzureTipsAndTricks/blog/tip245.html#use-azure-key-vault-to-store-sensitive-data-and-access-from-kubernetes-pods" class="sidebar-link">Use Azure Key Vault to store sensitive data and access from Kubernetes Pods</a></li><li class="sidebar-sub-header"><a href="/AzureTipsAndTricks/blog/tip245.html#prerequisites" class="sidebar-link">Prerequisites</a></li><li class="sidebar-sub-header"><a href="/AzureTipsAndTricks/blog/tip245.html#create-a-service-principal-and-read-in-the-application-id" class="sidebar-link">Create a service principal and read in the application ID</a></li></ul></li><li><a href="/AzureTipsAndTricks/blog/tip244.html" class="sidebar-link">Tip 244 - How to use PowerShell in Azure Data Studio</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/AzureTipsAndTricks/blog/tip244.html#azure-data-studio" class="sidebar-link">Azure Data Studio</a></li><li class="sidebar-sub-header"><a href="/AzureTipsAndTricks/blog/tip244.html#prerequisites" class="sidebar-link">Prerequisites</a></li><li class="sidebar-sub-header"><a href="/AzureTipsAndTricks/blog/tip244.html#use-powershell-with-azure-data-studio" class="sidebar-link">Use PowerShell with Azure Data Studio</a></li></ul></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>.NET</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Active Directory</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Activity Log</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Advisor</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>App Configuration</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>App Service</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>APIM</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>ASP.NET</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Authentication</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Automation</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Availability Zones</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>AzCopy</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Blueprints</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>CDN</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>CLI</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Cloud Shell</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Cognitive Services</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Containers</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Cosmos DB</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Data Share</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Data Studio</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>DevOps</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Dev Spaces</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Front Door</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Functions</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/AzureTipsAndTricks/blog/tip247.html" class="sidebar-link">Tip 247 - Creating custom bindings for Azure Functions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/AzureTipsAndTricks/blog/tip247.html#azure-functions-bindings" class="sidebar-link">Azure Functions Bindings</a></li><li class="sidebar-sub-header"><a href="/AzureTipsAndTricks/blog/tip247.html#prerequisites" class="sidebar-link">Prerequisites</a></li><li class="sidebar-sub-header"><a href="/AzureTipsAndTricks/blog/tip247.html#creating-a-custom-binding-for-azure-functions" class="sidebar-link">Creating a custom binding for Azure Functions</a></li><li class="sidebar-sub-header"><a href="/AzureTipsAndTricks/blog/tip247.html#conclusion" class="sidebar-link">Conclusion</a></li></ul></li><li><a href="/AzureTipsAndTricks/blog/tip211.html" class="sidebar-link">Tip 211 - Working with Azure Functions using PowerShell (Preview)</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/AzureTipsAndTricks/blog/tip196.html" class="active sidebar-link">Tip 196 - Testing Azure Functions</a></li><li><a href="/AzureTipsAndTricks/blog/tip35.html" class="sidebar-link">Tip 35 - Work with the Azure Functions File System using the Console</a></li><li><a href="/AzureTipsAndTricks/blog/tip36.html" class="sidebar-link">Tip 36 - Quickly Renew or Revoke Azure Functions Keys</a></li><li><a href="/AzureTipsAndTricks/blog/tip50.html" class="sidebar-link">Tip 50 - Create an Azure Functions project with Visual Studio Code</a></li><li><a href="/AzureTipsAndTricks/blog/tip51.html" class="sidebar-link">Tip 51 - Debug Azure Functions with Visual Studio Code</a></li><li><a href="/AzureTipsAndTricks/blog/tip52.html" class="sidebar-link">Tip 52 - Deploy Azure Functions with Visual Studio Code</a></li><li><a href="/AzureTipsAndTricks/blog/tip61.html" class="sidebar-link">Tip 61 - Java in Azure Function with VS Code</a></li><li><a href="/AzureTipsAndTricks/blog/tip62.html" class="sidebar-link">Tip 62 - Force HTTPS in Azure Functions</a></li><li><a href="/AzureTipsAndTricks/blog/tip63.html" class="sidebar-link">Tip 63 - Open an existing Azure Function in Visual Studio</a></li><li><a href="/AzureTipsAndTricks/blog/tip64.html" class="sidebar-link">Tip 64 - Using a different route prefix with Azure Functions</a></li><li><a href="/AzureTipsAndTricks/blog/tip94.html" class="sidebar-link">Tip 94 - Customize an Azure Functions Endpoint in Seconds</a></li><li><a href="/AzureTipsAndTricks/blog/tip97.html" class="sidebar-link">Tip 97 - Generate a Weekly Digest Email for a Blog using Azure Functions, SendGrid and Azure Storage</a></li><li><a href="/AzureTipsAndTricks/blog/tip98.html" class="sidebar-link">Tip 98 - Creating an Email Subscription with Azure Functions - Storing Emails</a></li><li><a href="/AzureTipsAndTricks/blog/tip99.html" class="sidebar-link">Tip 99 - Creating an Email Subscription with Azure Functions - Writing the Frontend</a></li><li><a href="/AzureTipsAndTricks/blog/tip100.html" class="sidebar-link">Tip 100 - Creating an Email Subscription with Azure Functions - Sending Emails</a></li><li><a href="/AzureTipsAndTricks/blog/tip130.html" class="sidebar-link">Tip 130 - Manage Application Settings for Azure Functions within Visual Studio</a></li><li><a href="/AzureTipsAndTricks/blog/tip133.html" class="sidebar-link">Tip 133 - Use the Azure Portal for Durable Functions Development</a></li><li><a href="/AzureTipsAndTricks/blog/tip134.html" class="sidebar-link">Tip 134 - Use Run-From-Zip to deploy a site to Azure Web Apps or Functions</a></li><li><a href="/AzureTipsAndTricks/blog/tip135.html" class="sidebar-link">Tip 135 - Use Run-From-Zip without Azure Storage to deploy a site to Azure Web Apps or Functions</a></li><li><a href="/AzureTipsAndTricks/blog/tip136.html" class="sidebar-link">Tip 136 - Quickly Restore your Local Settings File for Azure Functions</a></li><li><a href="/AzureTipsAndTricks/blog/tip147.html" class="sidebar-link">Tip 147 - Run TSQL on an Azure SQL database with Azure Functions</a></li><li><a href="/AzureTipsAndTricks/blog/tip148.html" class="sidebar-link">Tip 148 - Share Business Logic between Azure Functions</a></li><li><a href="/AzureTipsAndTricks/blog/tip157.html" class="sidebar-link">Tip 157 - Part 1 Create Thumbnail Images with Azure Functions and Azure Storage</a></li><li><a href="/AzureTipsAndTricks/blog/tip158.html" class="sidebar-link">Tip 158 - Part 2 Create Thumbnail Images with Azure Functions and Azure Storage</a></li><li><a href="/AzureTipsAndTricks/blog/tip161.html" class="sidebar-link">Tip 161 - Change the Azure Function runtime version after Deployment</a></li><li><a href="/AzureTipsAndTricks/blog/tip125.html" class="sidebar-link">Tip 125 - Using Azure Function to call our Logic App with the IoT Button</a></li><li><a href="/AzureTipsAndTricks/blog/tip174.html" class="sidebar-link">Tip 174 - Machine Learning with ML.NET and Azure Functions - Part 1 of 2</a></li><li><a href="/AzureTipsAndTricks/blog/tip175.html" class="sidebar-link">Tip 175 - Machine Learning with ML.NET and Azure Functions - Part 2 of 2</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>GitHub</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>HD Insight</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Information Protection</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>iOS</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>IoT</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Key Vault</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Kubernetes</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Lab Services</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Logic Apps</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Machine Learning</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Media Services</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Migrate</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Monitor</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Node.js</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Pipeline</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Portal</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>PowerShell</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Productivity</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Resource Manager</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>SAP</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>SDKs</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Search</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>SendGrid</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>SignalR</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>SQL</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Storage</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Virtual Machines</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Visual Studio Family</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>VNET</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page" data-v-0e4468e2> <div class="content default" data-v-0e4468e2><div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>ðŸ’¡ Learn more : <a href="https://docs.microsoft.com/azure/azure-functions/?WT.mc_id=docs-azuredevtips-micrum" target="_blank" rel="noopener noreferrer">Azure Functions<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>ðŸ“º Watch the video : <a href="https://www.youtube.com/watch?v=UuM1m8WZxjw&amp;list=PLLasX02E8BPCNCK8Thcxu-Y-XcBUbhFWC&amp;index=53&amp;t=0s?WT.mc_id=youtube-azuredevtips-micrum" target="_blank" rel="noopener noreferrer">How to test Azure Functions<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></div> <h4 id="testing-azure-functions"><a href="#testing-azure-functions" aria-hidden="true" class="header-anchor">#</a> Testing Azure Functions</h4> <p>I love Azure Functions. I use them all the time to execute small pieces of code without having to worry about how they run. Azure Functions are what they sound like: functions that run in Azure. So pieces of code, that just run in Azure. And they run serverless, which means that they run and scale automatically, without you needing to do anything to make that work.</p> <p>One of the things that I love most about Azure Functions is that they come with bindings and triggers out-of-the-box. With these, you can have a Function run when a new Blob is uploaded to Azure Storage and output a value to an Azure Storage Queue, without writing any of the plumbing code to deal with Azure Storage.
These bindings and triggers are great and the fact that everything runs in Azure is awesome too. All of this does seem to make it difficult to create traditional unit- and integration tests for Azure Functions to make sure that you don't break them when you change your code.</p> <p>Fortunately, it's not that hard to test Azure Functions. Especially now that you can create pre-compiled Azure Functions in Visual Studio. This means that all of the Azure Functions code can run locally. And that makes it testable. Let's take a look.</p> <h5 id="creating-unit-tests-for-azure-functions"><a href="#creating-unit-tests-for-azure-functions" aria-hidden="true" class="header-anchor">#</a> Creating Unit Tests for Azure Functions</h5> <p>Writing unit tests for Azure Functions is just like writing unit tests for any other piece of code. There is some logic, that has input and output parameters, and you need to simulate those.</p> <p>This is what a typical Azure Function with a HTTP trigger looks like:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token punctuation">[</span><span class="token class-name">FunctionName</span><span class="token punctuation">(</span><span class="token string">&quot;HttpTrigger&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">async</span> Task<span class="token operator">&lt;</span>IActionResult<span class="token operator">&gt;</span> <span class="token function">RunAsync</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token class-name">HttpTrigger</span><span class="token punctuation">(</span>AuthorizationLevel<span class="token punctuation">.</span>Function<span class="token punctuation">,</span> <span class="token string">&quot;get&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span> Route <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token class-name">HttpRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">TraceWriter</span> log<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    log<span class="token punctuation">.</span><span class="token function">Info</span><span class="token punctuation">(</span><span class="token string">&quot;C# HTTP trigger function processed a request.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">string</span> name <span class="token operator">=</span> req<span class="token punctuation">.</span>Query<span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">string</span> requestBody <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StreamReader</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>Body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ReadToEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">dynamic</span> data <span class="token operator">=</span> JsonConvert<span class="token punctuation">.</span><span class="token function">DeserializeObject</span><span class="token punctuation">(</span>requestBody<span class="token punctuation">)</span><span class="token punctuation">;</span>
    name <span class="token operator">=</span> name <span class="token operator">?</span><span class="token operator">?</span> data<span class="token operator">?</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>

    <span class="token keyword">return</span> name <span class="token operator">!=</span> <span class="token keyword">null</span>
        <span class="token operator">?</span> <span class="token punctuation">(</span>ActionResult<span class="token punctuation">)</span><span class="token keyword">new</span> <span class="token class-name">OkObjectResult</span><span class="token punctuation">(</span>$<span class="token string">&quot;Hello, {name}&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">BadRequestObjectResult</span><span class="token punctuation">(</span><span class="token string">&quot;Please pass a name on the query string or in the request body&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>To start creating unit tests, you first need a test project to put them in. You can create one by right-clicking on the solution file that contains the Azure Function and clicking <strong>Add &gt; new Project</strong>. Now, select the MSTest test project, just like in the image below. This creates a project that you can use to create your tests in and run them.</p> <img src="/AzureTipsAndTricks/files/CreateATestProject.png"> <p>(Create a test project in Visual Studio)</p> <p>So if you want to create a unit test for the function that we've seen earlier, you need to replicate the behavior of the parameters that go into the function:</p> <ul><li>HttpRequest req</li> <li>TraceWriter log</li></ul> <p>For a unit test, you wouldn't simulate the HttpTrigger as it doesn't matter how the function is triggered. The unit test is all about the logic inside the function.</p> <p>So how would you simulate these input parameters? Well, you could do something like this for the HttpRequest object:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token class-name">HttpRequest</span> <span class="token function">HttpRequestSetup</span><span class="token punctuation">(</span>Dictionary<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> StringValues<span class="token operator">&gt;</span> query<span class="token punctuation">,</span> <span class="token keyword">string</span> body<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">var</span> reqMock <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token generic-method"><span class="token function">Mock</span><span class="token punctuation">&lt;</span><span class="token class-name">HttpRequest</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    reqMock<span class="token punctuation">.</span><span class="token function">Setup</span><span class="token punctuation">(</span>req <span class="token operator">=</span><span class="token operator">&gt;</span> req<span class="token punctuation">.</span>Query<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Returns</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">QueryCollection</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> stream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MemoryStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> writer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StreamWriter</span><span class="token punctuation">(</span>stream<span class="token punctuation">)</span><span class="token punctuation">;</span>
    writer<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
    writer<span class="token punctuation">.</span><span class="token function">Flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    stream<span class="token punctuation">.</span>Position <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    reqMock<span class="token punctuation">.</span><span class="token function">Setup</span><span class="token punctuation">(</span>req <span class="token operator">=</span><span class="token operator">&gt;</span> req<span class="token punctuation">.</span>Body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Returns</span><span class="token punctuation">(</span>stream<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> reqMock<span class="token punctuation">.</span>Object<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>This code uses the <a href="https://github.com/moq/moq4" target="_blank" rel="noopener noreferrer">Moq<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> framework to mock the behavior of the <strong>HttpRequest</strong> object. When you mock an object, the mock object mimics the behavior of it, letting the code in the test interact with it as if it were real. So when you write unit tests for something like an Azure Function, you can mock the parameter objects by looking at what they do. Often you can find this out by looking at them in the object explorer in Visual Studio. Alternatively, you can find this out in the <a href="https://docs.microsoft.com/azure/azure-functions" target="_blank" rel="noopener noreferrer">documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>And for the TraceWriter parameter, you could do something like this:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">VerboseDiagnosticsTraceWriter</span> <span class="token punctuation">:</span> <span class="token class-name">TraceWriter</span>
<span class="token punctuation">{</span>        
    <span class="token keyword">public</span> <span class="token function">VerboseDiagnosticsTraceWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>TraceLevel<span class="token punctuation">.</span>Verbose<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
            
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">void</span> <span class="token function">Trace</span><span class="token punctuation">(</span><span class="token class-name">TraceEvent</span> traceEvent<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Debug<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>traceEvent<span class="token punctuation">.</span>Message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>This actually writes the log messages using <strong>Debug.WriteLine()</strong> and by implementing the abstract <strong>Microsoft.Azure.WebJobs.Host.TraceWriter</strong> class. So you don't always have to mock objects. You just need to simulate the objects however you can.</p> <p>So now, a unit test for the Azure Function can look like this:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token punctuation">[</span><span class="token class-name">TestMethod</span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token class-name">Task</span> <span class="token function">Request_With_Query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">var</span> query <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token generic-method"><span class="token function">Dictionary</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">StringValues</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    query<span class="token punctuation">.</span><span class="token function">TryAdd</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Michael&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> body <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token keyword">await</span> HttpTrigger<span class="token punctuation">.</span><span class="token function">RunAsync</span><span class="token punctuation">(</span>req<span class="token punctuation">:</span> <span class="token function">HttpRequestSetup</span><span class="token punctuation">(</span>query<span class="token punctuation">,</span> body<span class="token punctuation">)</span><span class="token punctuation">,</span> log<span class="token punctuation">:</span> log<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> resultObject <span class="token operator">=</span> <span class="token punctuation">(</span>OkObjectResult<span class="token punctuation">)</span>result<span class="token punctuation">;</span>
    Assert<span class="token punctuation">.</span><span class="token function">AreEqual</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, Michael&quot;</span><span class="token punctuation">,</span> resultObject<span class="token punctuation">.</span>Value<span class="token punctuation">)</span><span class="token punctuation">;</span>            
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>The test creates a HttpRequest by calling <strong>HttpRequestSetup</strong> and uses the LogWriter (which is the <strong>log</strong> parameter that you see). And it tests if what the function returns is equal to &quot;Hello, Michael&quot;. You can check out the full code sample <a href="https://github.com/Azure-Samples/functions-unittesting-sample" target="_blank" rel="noopener noreferrer">on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. And you can run the test from Visual Studio, by clicking on the <strong>Test</strong> menu and clicking <strong>Run &gt; All Tests</strong>.</p> <img src="/AzureTipsAndTricks/files/RunTests.png"> <p>(Run tests in Visual Studio)</p> <h5 id="creating-integration-tests-for-azure-functions"><a href="#creating-integration-tests-for-azure-functions" aria-hidden="true" class="header-anchor">#</a> Creating Integration Tests for Azure Functions</h5> <p>Integration tests are more difficult than unit tests. An integration test for an Azure Function should start the Azure Function runtime and perform all of he actions needed within the function. Currently, there isn't a great way to create and run integration tests for Azure Functions yet. Until that is available, you can make it work by using some hardcoded strings. Let's try that out.</p> <p>We will test the same HttpTrigger function that we've tested with unit tests. This is the default code that you get when you create a new HttpTrigger Azure Function.
Now, we want to create an integration test for the function. This means that we will start the function locally and send HTTP to it to trigger it and make it run. You can create the integration test in the same test project that we've created earlier for the unit tests.</p> <p>The integration test will look like this:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token punctuation">[</span><span class="token class-name">TestMethod</span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token class-name">Task</span> <span class="token function">HttpTrigger</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token function">StartHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">string</span> name <span class="token operator">=</span> <span class="token string">&quot;Michael&quot;</span><span class="token punctuation">;</span>

    <span class="token keyword">await</span> <span class="token function">SendHttpRequest</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">EndHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>The first thing that we do is to start the function host with the <strong>StartHost()</strong> method.</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">private</span> <span class="token class-name">Process</span> _host<span class="token punctuation">;</span>

<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">StartHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token keyword">string</span> filename <span class="token operator">=</span>
        <span class="token string">@&quot;C:\Users\Michael\AppData\Local\AzureFunctionsTools\Releases\2.10.1\cli\func.exe&quot;</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> <span class="token keyword">string</span> args <span class="token operator">=</span> <span class="token string">&quot;host start&quot;</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> <span class="token keyword">string</span> binDir <span class="token operator">=</span> <span class="token string">@&quot;C:\Users\Michael\functions-unittesting-sample-master\DotNet\bin\Debug\netstandard2.0\bin&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">ProcessStartInfo</span> hostProcess <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ProcessStartInfo</span>
    <span class="token punctuation">{</span>
        FileName <span class="token operator">=</span> filename<span class="token punctuation">,</span>
        Arguments <span class="token operator">=</span> args<span class="token punctuation">,</span>
        WorkingDirectory <span class="token operator">=</span> binDir
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    _host <span class="token operator">=</span> Process<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span>hostProcess<span class="token punctuation">)</span><span class="token punctuation">;</span>

    Thread<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>We start the function host by calling <strong>func.exe</strong> with the arguments <strong>&quot;host start&quot;</strong> and the directory that contains the Azure Function dll. The path to func.exe can be different on your machine, so search for it to find your path. The same goes for the path to the function dll. Once the host process is started, I make the thread sleep for 5 seconds, giving the function 5 seconds to complete. I don't think that this is an elegant way to call the function, but it works for now. In the future, the tooling might provide for better ways to do this.</p> <p>Once the runtime has started, I call <strong>SendHttpRequest</strong> and send along the string <strong>&quot;Michael&quot;</strong>.</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token class-name">Task</span> <span class="token function">SendHttpRequest</span><span class="token punctuation">(</span><span class="token keyword">string</span> name<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">HttpClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">string</span> json <span class="token operator">=</span> $<span class="token string">&quot;{{\&quot;Name\&quot;: \&quot;&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;\&quot;}&quot;</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> content <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringContent</span><span class="token punctuation">(</span>json<span class="token punctuation">,</span> Encoding<span class="token punctuation">.</span>UTF8<span class="token punctuation">,</span> <span class="token string">&quot;application/json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> response <span class="token operator">=</span>
    <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">PostAsync</span><span class="token punctuation">(</span><span class="token string">@&quot;http://localhost:7071/api/HttpTrigger&quot;</span><span class="token punctuation">,</span> content<span class="token punctuation">)</span><span class="token punctuation">;</span>

    Assert<span class="token punctuation">.</span><span class="token function">AreEqual</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, Michael&quot;</span><span class="token punctuation">,</span> response<span class="token punctuation">.</span>Content<span class="token punctuation">.</span><span class="token function">ReadAsStringAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">await</span> Task<span class="token punctuation">.</span><span class="token function">Delay</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>This method builds a string that we'll send as Json, which contains the name &quot;Michael&quot;. Next, we send this payload with a POST method of the HttpClient object to the address http://localhost:7071/api/HttpTrigger, which is the local address of the Azure Function. You can find your address by locally running your Azure Function. The address will show up in the command prompt that outputs the function information. Finally, I check if what the function returns, matches the string &quot;Hello, Michael&quot;. And again, I give the function 5 seconds to respond. In this case, by calling <strong>await Task.Delay(5000)</strong></p> <p>And finally, I shut the function host process down:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">EndHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    _host<span class="token punctuation">.</span><span class="token function">CloseMainWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    _host<span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>And that's it! A very simple example of an integration test for Azure Functions. And you can run this test by running it from Visual Studio, for instance, by clicking on the <strong>Test</strong> menu and clicking <strong>Run &gt; All tests</strong>.
Azure Functions integration tests can quickly become more complicated. For instance when you have a different trigger, like a Queue-, or a Blob-trigger. And you can have output bindings as well. In those cases, you can simulate all of that behavior by actually calling those services, preferably development versions of them, like those in the local development storage.</p> <h5 id="conclusion"><a href="#conclusion" aria-hidden="true" class="header-anchor">#</a> Conclusion</h5> <p>You can test Azure Functions by creating unit and integration-tests for them.
Unit tests are relatively easy as you mock the behavior of things that go in and out of your function (and everything in between). And if you ask me, you don't always have to create unit tests that test all of the input and output parameters of the function. You could just test whatever is inside the function, as that is the code that matters.
Creating integration tests for Azure Functions is possible, but not pretty. It requires some hardcoded values, which isn't ideal, but you can make it work.</p></div> <div class="page-edit" data-v-0e4468e2><div class="edit-link" data-v-0e4468e2><a href="https://github.com/microsoft/azuretipsandtricks/edit/master/blog/tip196.md" target="_blank" rel="noopener noreferrer" data-v-0e4468e2>Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound" data-v-0e4468e2 data-v-0e4468e2><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <section class="share" data-v-0e4468e2><h2 data-v-0e4468e2>Share</h2> <a href="https://twitter.com/intent/tweet?text=Tip 196 - Testing Azure Functions by @mbcrump http://azuredev.tips/blog/tip196.html" target="_blank" class="share__button" data-v-0e4468e2><i class="fab fa-twitter" data-v-0e4468e2></i> Tweet
    </a></section></div> <!----></div> <div class="page-nav" data-v-0e4468e2><p class="inner" data-v-0e4468e2><span class="prev" data-v-0e4468e2>
        â†
        <a href="/AzureTipsAndTricks/blog/tip211.html" class="prev" data-v-0e4468e2>
          Tip 211 - Working with Azure Functions using PowerShell (Preview)
        </a></span> <span class="next" data-v-0e4468e2><a href="/AzureTipsAndTricks/blog/tip35.html" data-v-0e4468e2>
          Tip 35 - Work with the Azure Functions File System using the Console
        </a>
        â†’
      </span></p></div> </div> <!----></div><div class="global-ui"></div></div>
    <script src="/AzureTipsAndTricks/assets/js/app.4d0fdadb.js" defer></script><script src="/AzureTipsAndTricks/assets/js/4.1e17da4f.js" defer></script><script src="/AzureTipsAndTricks/assets/js/110.59603119.js" defer></script>
  </body>
</html>
